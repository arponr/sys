\input{preamble}

\title{Math 233A, Problem Set 7}
\author{Arpon Raksit}
\date{04 Nov 2013}

\begin{document}
\maketitle
\thispagestyle{fancy}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\prob{1}

\subprob{a}

The question is local on $X$ so without loss of generality $X \simeq
\Spec A$ for some noetherian $A$, and since $\F$ is coherent, we can
then take $\F \simeq \tilde M$ for some finitely generated $A$-module
$M$. Then if $x = \p \in \Spec A$, our hypothesis gives that
\begin{equation}
  \label{stalk} \tag({$\dagger$}
  0 \simeq \F_x \otimes_{\O_{X,x}} k(x) \simeq M_\p \otimes_{A_\p}
  (A_\p/\m) \simeq M_\p/\m M_\p,
\end{equation}
where $\m \coloneqq \p A_\p$. By Nakayama this implies $M_\p \simeq
0$. But since $M$ is finitely generated this implies $M_f \simeq 0$
for some $f \in A - \p$. I.e., $\F|_U \simeq 0$ with $U \coloneqq D(f)
\ni x$. \win

\subprob{b}

For $x \in V \subseteq U$ the map $\F(U) \to \F_x$ factors through
restriction $\F(U) \to \F(V)$. Therefore we can assume $U \simeq \Spec
A$ without loss of generality.  Let $M$, $\p$, and $\m$ as in (a). Let
$N \subseteq M$ the submodule generated by $a_1,\ldots,a_n$.

Let $\G$ the sheaf on $U$ associated to $M/N$. From $(\dagger)$ and
right-exactness of tensoring we get that the hypothesis that $\oline
a_1, \ldots, \oline a_n$ generate $\F_x \otimes_{\O_{X,x}} k(x)$
implies that $\G_x \otimes_{\O_{X,x}} k(x) \simeq 0$, which by (a)
implies that $\G|_{U_0} \simeq 0$ for some $x \in U_0 \subseteq U$
open. By exactness of tildefication this implies precisely that
$\F|_{U_0} = \tilde N|_{U_0}$. By definition of $N$ we're done. \win

\subprob{c}

Let $r \ge 0$ and $x \in X$ such that $e(x) \le r$. Then there exist
$\oline a_1, \ldots, \oline a_r \in \F_x$ generating $\F_x
\otimes_{\O_{X,x}} k(x)$. Since $r$ is finite we can choose an open
neighbourhood $U$ of $x$ and $a_1,\ldots,a_n \in \F(U)$ such that
$\oline a_i$ is the image of $a_i$ in $\F(U) \to \F_x$. Then by (b)
there exists $U_0 \subseteq U$ an open neighbourhood of $x$ such that
$a_1,\ldots,a_n$ generate $\F|_{U_0}$. In particular, for each $y \in
U_0$ the images of $a_1, \ldots, a_n$ in $\F(U) \to \F_y$ must
generate $\F_y \otimes_{\O_{X,y}} k(y)$ over $k(y)$, so that $e(y) \le
r$. It follows that $\{x \in X \mid e(x) \le r\}$ is open. \win

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\prob{2}

We will use the fact from commutative algebra that, for $M$ an
$A$-module, the following are equivalent.
\begin{enumerate}
\item There exist $f_1,\ldots,f_m \in A$ generating the unit ideal
  such that $M_{f_i} \simeq A_{f_i}^{r_i}$ for some $r_i \ge 0$ for $1
  \le i \le m$.
\item $M$ is finitely generated and projective.
\end{enumerate}
Thus it suffices to show (a) in the problem is equivalent to (1)
above.

\subprob{a $\Rightarrow$ 1}

By local freeness each $x \in X$ has a neighbourhood $U$ such that
$\tilde M|_U \simeq (\O_X|_U)^I$. But by finiteness we can refine $U$
such that there is a surjection $(\O_X|_U)^n \surj \tilde M|_U$ for
some $n \ge 0$. Moreover, $U$ is a basic open $D(f)$ without loss of
generality. Since $X$ is quasicompact it is covered by finitely many
of these, $D(f_1), \ldots, D(f_m)$. Fix $1 \le i \le m$. Our
conditions give an isomorphism $M_{f_i} \simeq A_{f_i}^I$ and a
surjection $A_{f_i}^n \surj M_{f_i}$. Since rank of a free module is
well-defined, it follows that $M_{f_i} \simeq A_{f_i}^{r_i}$ for some
$r_i \ge 0$. \win

\subprob{1 $\Rightarrow$ a}

We have an open cover $D(f_1), \ldots, D(f_m)$ of $X$ such that for $1
\le i \le m$,
\[
\tilde M|_{D(f_i)} \simeq (M_{f_i})^\sim \simeq (A_{f_i}^{r_i})^\sim
\simeq (\O_X|_{D(f_i)})^{r_i}.
\]
This gives immediately that $\tilde M$ is of finite type and locally
free. \win

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\prob{3}

\subprob{a}

Let $\eta \coloneqq (0) \in \Spec R$ and $\m \in \Spec R$ the maximal
ideal. Then $X = \{\eta, \m\}$, with open sets $\{\emptyset, \{\eta\},
X\}$. Moreover we have $\O_X(X) \simeq R$ and $\O_X(\{\eta\}) \simeq
\O_{X,\eta} \simeq K$. Thus the data of an $\O_X$-module is an
$R$-module $M$, a $K$-module $L$, and a map of abelian groups $M \to
L$ making the diagram
\[
\begin{tikzcd}
  R \times M \rar \dar & M \dar \\ K \times L \rar & L
\end{tikzcd}
\]
commute. The condition of the diagram is equivalent to requiring $M
\to L$ be a map of $R$-modules, after restricting scalars on $L$ via
$R \inj K$. By the standard adjunction this is then equivalent to
specifying a map $M \otimes_R K \to L$ of $K$-modules. \win

\subprob{b}

An $\O_X$-module on $X = \Spec R$ is quasicoherent if and only if it's
the tildefication of $\O_X(X)$. By the characterisation in (a), this
means it is the tildefication of $M$, and given the topology on $X$
this means precisely that $M \to L$ is given by localisation at
$\eta$. But $M_\eta \simeq M \otimes_R K$ so this is equivalent to
requiring that $M \otimes_R K \to L$ is an isomorphism. \win

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\prob{4}

\subprob{a}

Let $X \coloneqq \Spec A$ a noetherian affine scheme and $\F$ a
quasicoherent sheaf on $X$. Then $\F \simeq \tilde M$ for some
$A$-module $M$, and the coherent subsheaves $\{\F_\alpha\}$ of $\F$
are given by $\F_\alpha \coloneqq \tilde M_\alpha$, where
$\{M_\alpha\}$ are the finitely generated submodules of $M$. Clearly
$M = \bigcup M_\alpha$, implying that the natural map $\bigoplus
M_\alpha \to M$ is surjective. Since tildefication is exact and
commutes with direct sums, it follows that the natural map $\bigoplus
\F_\alpha \to \F$ is surjective. We claim this implies $\F = \bigcup
\F_\alpha$.

Let $U \subseteq X$ open and $s \in \F(U)$. Note that, since $X$ is
noetherian, $(\bigoplus \F_\alpha)(U) = \bigoplus \F_\alpha(U)$. Thus
surjectivity of $\bigoplus \F_\alpha \to \F$ tells us that there exist
$\alpha_1,\ldots,\alpha_n$ such that $s \in \sum_{i=1}^n
\F_{\alpha_i}(U)$. Now $\sum_{i=1}^n M_{\alpha_i}$ is clearly a
finitely generated submodule $M_\alpha$ of $M$. And it's easy to see
that $\F_\alpha = \sum_{i=1}^n \F_{\alpha_i}$. Thus $s \in
\F_\alpha(U)$, implying $\F(U) = \bigcup \F_\alpha(U)$. \win

\subprob{b}

Let $i : U \to X$ the inclusion. Since $X$ is noetherian, so is $U$,
whence quasicoherence of $\F$ implies quasicoherence of $\G \coloneqq
i_*\F$. Note that clearly $\G|_U = \F$. Let $\{\G_\alpha\}$ the
coherent subsheaves of $\G$. Since $U$ is noetherian it is
quasicompact, so we can write $U = \bigcup_{i=1}^n U_i$ such that $U_i
\simeq \Spec A_i$ for $1 \le i \le n$.

Fix $1 \le i \le n$. Since $\F$ is coherent we have $\F|_{U_i} \simeq
\tilde M_i$ for some finitely generated $A_i$-module $M_i$. By (a) we
have $\tilde M_i \simeq \F|_{U_i} = \G|_{U_i} = \bigcup
\G_\alpha|_{U_i}$. Then by coherence, $\G_\alpha|_{U_i} \simeq \tilde
M_{\alpha,i}$ for some finitely generated submodule $M_{\alpha,i}$ of
$M_i$. Now since $M_i$ is finitely generated, we can (by the same sort
of finiteness argument used in (a)) in fact choose $\alpha_i$ such
that $M_i = M_{\alpha_i,i} \implies \F|_{U_i} = \G_{\alpha_i}|_{U_i}$.

Then since we only have finitely many $i$ we can in the same way
choose $\alpha$ such that $\F|_{U_i} = \G_\alpha|_{U_i}$ for $1 \le i
\le n$. But then since the $U_i$ cover $U$ this implies that
$\G_\alpha|_U = \F$. Then we are done by setting $\F' \coloneqq
\G_\alpha$. \win

\subprob{c}

By definition we have a map $\rho : \G \to i_*(\G|_U)$ which restricts
to the identity $\G|_U = i_*(\G|_U)|_U$ on $U$. Since $\F \subseteq
\G|_U$ we have $i_*\F \subseteq i_*(\G|_U)$. Then $\rho^{-1}(i_*\F)$
is a subsheaf of $\G$ with $\rho^{-1}(i_*\F)|_U =
\rho|_U^{-1}(i_*\F|_U) = \F$. Thus once we show that
$\rho^{-1}(i_*\F)$ is quasicoherent, can simply apply the argument
from (b) to finish.

Indeed, since $\G$ is quasicoherent, so is $\G|_U$. Then since $U$ is
noetherian, $i_*(\G|_U)$ and $i_*\F$ are quasicoherent. Since $X$ is
affine and tildefication is an equivalence of categories in this case,
it follows easily that $\rho^{-1}(i_*\F)$ must also be
quasicoherent. \win

\subprob{d}

Since $X$ is noetherian we can cover $X$ by noetherian affine schemes
$U_1,\ldots,U_n$. Let $V_0 \coloneqq U$ and $V_i \coloneqq V_{i-1}
\cup U_i$ for $1 \le i \le n$. We will inductively construct for $0
\le i \le n$ a coherent subsheaf $\G_i$ of $\G|_{V_i}$ such that
$\G_i|_U = \F$. The base case $i = 0$ is simply given by $\G_0
\coloneqq \F$, and the final case $i = n$ will finish the proof. The
inductive step is as follows. Let $W_i \coloneqq V_{i-1} \cap U_i$. We
have $\G_{i-1}|_{W_i} \subseteq \G|_{W_i}$ so by (c) there is a
coherent subsheaf $\G_{i,0} \subseteq \G|_{U_i}$ on $U_i$ such that
$\G_{i,0}|_{W_i} = \G_{i-1}|_{W_i}$. This says precisely that we can
glue $\G_{i-1}$ and $\G_{i,0}$ to obtain a sheaf $\G_i$ on $V_i$ as
desired. \win

\subprob{e}

Let $X$ a noetherian scheme and $\F$ a quasicoherent sheaf on $X$. Let
$U \subseteq X$ and $s \in \F(U)$. We just need to find a coherent
subsheaf $\F' \subseteq \F$ such that $s \in \F'(U)$. Let $\G$ the
subsheaf of $\F|_U$ generated by $s$ and its restrictions. Since $\F$
is quasicoherent, it's clear that $\G$ is in fact coherent. Now by (d)
we can construct $\F' \subseteq \F$ coherent such that $\F'|_U = G$,
whence we are done. \win

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\end{document}
