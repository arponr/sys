\input{../preamble}
\input{preamble}

\usepackage{tikz}

\newcommand{\aut}{\operatorname{aut}}
\newcommand{\saut}{\operatorname{\underline{aut}}}
\renewcommand{\E}{\mathcal{E}}
\renewcommand{\F}{\mathcal{F}}
\renewcommand{\G}{\mathcal{G}}
\renewcommand{\H}{\mathcal{H}}
\renewcommand{\X}{\mathcal{X}}
\renewcommand{\Y}{\mathcal{Y}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title{Bundles}
\author{Arpon Raksit}
\date{original: June 17, 2014; last edit: \today}

\begin{document}
\maketitle
\thispagestyle{fancy}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Definitions}

We begin by defining the motivating notions from topology.

\begin{notation}
  Until further notice, $X$ denotes a topological space.
\end{notation}

\begin{definitions}
  \label{bundles-structure-groups}
  Let $F$ be a space and $G$ a topological group.
  \begin{itemize}[leftmargin=*]
  \item A \emph{fibre bundle} over $X$ with \emph{fibre} $F$ is a map
    $\pi \c E \to X$ such that there is an open cover $\{U_i\}$ of $X$
    and homeomorphisms $\phi_i \c \pi^{-1}(U_i) \to U_i \times F$ over
    $X$ for each $i$. In particular the fibre $\pi^{-1}(x)$ is
    homeomorphic to $F$ for every $x \in X$.
  \item Such data $\{(U_i,\phi_i)\}$ is called a \emph{trivialisation}
    of the fibre bundle. The \emph{transition maps} associated to a
    trivialisation are the maps
    \[
    t_{ij} \c U_i \cap U_j \to \aut(F),
    \]
    where $\aut(F)$ denotes the group of homeomorphisms of $F$ with
    itself, such that the automorphism $\phi_i\phi_j^{-1}$ of $(U_i
    \cap U_j) \times F$ is given by $(u,f) \mapsto (u, t_{ij}(u)(f))$.
  \item A fibre bundle $\pi \c E \to X$ with \emph{structure group
      $G$}, or a \emph{$G$-bundle}, is one where the fibre $F$ is
    equipped with a left $G$-action and $\pi$ is equipped with a
    trivialisation for which the transition maps $t_{ij}$ factor
    through the action $G \to \aut(F)$.
  \item A $G$-bundle is \emph{principal} if $G$ acts simply
    transitively on the fibre $F$, i.e., $F$ is homeomorphic as a left
    $G$-space to $G$ (which is a left $G$-space via left
    multiplication).
  \end{itemize}
\end{definitions}

\begin{remark}
  \label{principal-right-action}
  Note that a \emph{trivial} principal $G$-bundle $X \times G$ has
  both a left and a right $G$-action, via left and right
  multiplication on $G$.  Since these two actions commute and a
  principal $G$-bundle $\pi \c E \to X$ locally looks like $U \times
  G$ as a left $G$-space, the right actions on $U \times G$ will glue
  together to give a global right $G$-action on $E$ which preserves
  fibres. Thus any principal $G$-bundle is a right $G$-space over
  $X$.
\end{remark}

These are the type of objects we should have in the back of our mind
throughout. We will generalise them using the language of sheaves,
with the following definitions as our basic tools.

\begin{notation}
  Until further notice, $\X$ denotes a site. If $\E$ is a sheaf on
  $\X$ and $U \in \X$, let $\E|_U$ denote the restriction of $\E$ to
  the site $\X_{/U}$.
\end{notation}

\begin{definitions}
  Let $\G$ be a sheaf of groups on $\X$.
  \begin{itemize}[leftmargin=*]
  \item A \emph{$\G$-sheaf} on $\X$ is a sheaf of sets $\E$ on $\X$
    together with a right action $\E \times \G \to \E$ of $\G$. A
    \emph{morphism of $\G$-sheaves} $\E \to \E'$ on $\X$ is a morphism
    of sheaves of sets which commutes with the $\G$-actions
    (i.e. which is $\G$-equivariant).
  \item A \emph{$\G$-pseudotorsor} is $\G$-sheaf $\E$ such that for
    all $U \in \X$ open, either $\E(U)$ is empty or the action of
    $\G(U)$ on $\E(U)$ is simply transitive. A $\G$-pseudotorsor $\E$
    is a \emph{$\G$-torsor} if moreover for all $U \in \X$ there is a
    covering $\{U_i \to U\}$ of $U$ such that $\E(U_i)$ is nonempty
    for all $i$. A \emph{morphism of $\G$-pseudotorsors or
      $\G$-torsors} is simply a morphism of the underlying
    $\G$-sheaves.
  \item There is a \emph{trivial $\G$-torsor} on $\X$ given by $\G$
    equipped with the action given by right multiplication. A
    $\G$-sheaf $\E$ is called \emph{trivial} if there is an
    isomorphism of $\G$-sheaves $\E \iso \G$.
  \item Note that if $\E$ is a $\G$-sheaf, then $\E|_U$ is a
    $\G|_U$-sheaf on $\X_{/U}$ for any $U \in \X$. If $P$ is some
    property which can be enjoyed by $\H$-sheaves on $\Y$ for any
    sheaf of groups $\H$ on any site $\Y$---e.g. the properties of
    being a pseudotorsor, torsor, or trivial---then we say a
    $\G$-sheaf $\E$ on $\X$ \emph{locally has the property} $P$ if for
    all $U \in \X$ there is a covering $\{U_i \to U\}$ of $U$ such
    that the $\G|_{U_i}$ sheaf $\E|_{U_i}$ has the property $P$ for
    all $i$. The same goes for morphisms of $\G$-sheaves.
  \end{itemize}
\end{definitions}

\begin{remark}
  Note we should really have called these \emph{right} $\G$-sheaves,
  $\G$-pseudotorsors, and $\G$-torsors, and we can analogously define
  \emph{left} $\G$-sheaves, $\G$-pseudotorsors, and $\G$-torsors. We
  will need to distinguish between the two later on (as we needed to
  distinguish between left and right $G$-spaces for bundles above),
  but until then we agree to leave the modifier ``right'' implicit.
\end{remark}

\begin{remarks}
  \label{torsor-equiv}
  Observe that any morphism of $\G$-torsors on $\X$ is an isomorphism,
  since clearly it must locally be an isomorphism. So suppose $\E$ is
  a $\G$-pseudotorsor on $\X$ with a section $s \in \E(U)$ for some $U
  \in \X$. Then there is a morphism of $\G|_U$-torsors $\G|_U \to
  \E|_U$ on $\X_{/U}$ given by
  \[
  \G(V) \ni 1 \mapsto s|_V \in \E(V), \quad (V \to U) \in
  \X_{/U}.
  \]
  As just observed this must be an isomorphism. I.e., any section
  locally trivialises a pseudotorsor, and in particilar a pseudotorsor
  is a torsor if and only if it is locally trivial. In fact, any
  $\G$-sheaf is a $\G$-torsor if and only if it's locally
  trivial. This is immediate from the preceding discussion and the
  following lemma, that being a pseudotorsor or torsor is a local
  condition.
\end{remarks}

\begin{lemma}
  \label{torsor-local}
  If a $\G$-sheaf $\E$ on $\X$ is locally a $\G$-pseudotorsor
  (resp. $\G$-torsor), then $\E$ is a $\G$-pseudotorsor
  (resp. $\G$-torsor).
\end{lemma}

\begin{proof}
  It's clear that the statement for $\G$-torsors follows immediately
  from the statement for pseudotorsors, so we need only prove the
  latter. Let $U \in \X$ such that $\E(V)$ is nonempty. By hypothesis
  there is a covering $\{U_i \to U\}$ of $U$ such that $\E|_{U_i}$ is
  a $\G|_{U_i}$-pseudotorsor for all $i$. Let $s, t \in \E(U)$. We
  need to show there is a unique $g \in \G(U)$ such that $t =
  sg$. For all $i,j$ Write
  \[
  U_{ij} \ce U_i \times_U U_j, \quad
  s_i \ce s|_{U_i}, \quad s_{ij} \ce s|_{U_{ij}}, \quad
  t_i \ce t|_{U_i}, \quad t_{ij} \ce t|_{U_{ij}}
  \]
  Since $\E|_{U_i}$ is a $\G|_{U_i}$-pseudotorsor, there is a unique
  $g_i \in \G(U_i)$ such that $t_i = s_ig_i$; then
  \[
  s_{ij}g_i|_{V_{ij}} = t_i|_{V_{ij}} = t_{ij} = t_j|_{V_{ij}} =
  s_{ij}g_j|_{V_{ij}},
  \]
  so uniqueness also implies $g_i|_{V_{ij}} = g_j|_{V_{ij}}$. Thus the
  $g_i$ glue to $g \in \G(U)$. The equation $t = sg$ holds when
  restricted to each $U_i$ and thus must hold on $U$, and the
  uniqueness of $g$ is immediate from the uniqueness of the $g_i$.
\end{proof}

Let's bring things back down to fibre bundles and spaces for a
second.

\begin{definition}
  \label{map-sheaf}
  To any space $Y$ we can associate a sheaf of sets $\u{Y}$ on $X$:
  the \emph{sheaf of continuous maps to $Y$}, given by the assignment
  \[
  U \mapsto \hom_\Top(U,Y), \quad U \subseteq X \text{ open}.
  \]
\end{definition}

\begin{example}
  \label{bundle-example}
  Let $G$ be a topological group. Then $\u{G}$ is in fact a sheaf of
  groups. If $\pi \c E \to X$ is a right $G$-space over $X$ (a space
  over $X$ with a right $G$-action preserving fibres) then the sheaf
  $\E$ of continuous sections of $\pi$ is a $\u{G}$-sheaf in a
  canonical manner. By \pref{principal-right-action}, any principal
  $G$-bundle gives an example of such a $\pi \c E \to X$. In this case
  we will moreover have that $\E$ is locally trivial, and hence a
  $\u{G}$-torsor by \pref{torsor-equiv}.
\end{example}

We next generalise the main definitions we began with in
\pref{bundles-structure-groups}. I'm not sure if there's standard
terminology for some of these things so I'm just sticking with the
topological terminology.

\begin{definition}
  If $\E$ is a sheaf of sets on $\X$ then we have a \emph{sheaf of
    automorphisms} $\saut_X(\E)$ on $\X$ which to every $U \in \X$
  assigns the set $\aut(\E|_U)$ of isomorphisms $\E|_U \to \E|_U$ of
  sheaves on $\X_{/U}$.
\end{definition}

\begin{remark}
  If $G$ is a topological group and $F$ a space then giving a left
  $G$-action on a space $F$ is equivalent to giving a continuous map
  $G \to \aut(F)$. Observe similarly that if $\G$ is a sheaf of groups
  on $\X$ and $\F$ a sheaf of sets on $\X$ then giving a left
  $\G$-action on $\F$ is equivalent to giving a morphism of sheaves
  $\G \to \saut_X(\E)$.
\end{remark}

\begin{definition}
  \label{bundle-sheaf}
  Let $\F$ be a sheaf of sets on $\X$ and $\G$ a sheaf of groups on
  $\X$.
  \begin{itemize}[leftmargin=*]
  \item A \emph{bundle} on $\X$ with \emph{fibre} $\F$ is a sheaf of
    sets $\E$ on $\X$ such that for each $U \in \X$ there is a
    covering $\{U_i \to U\}$ of $U$ and isomorphisms $\kappa_i \c
    \E|_{U_i} \to \F|_{U_i}$ for each $i$.
  \item Such data $\{(U_i,\kappa_i)\}$ is called a
    \emph{trivialisation} of the bundle. The \emph{transition
      morphisms} associated to a trivialisation are the automorphisms
    $\tau_{ij} \ce \kappa_i\kappa_j^{-1}$ of $\F|_{U_i \cap U_j}$.
  \item A bundle $\E$ on $\X$ with \emph{structure group $\G$}, or a
    \emph{$\G$-bundle} on $\X$, is a bundle where the fibre $\F$ is
    equipped with a left $\G$-action and $\E$ is equipped with a
    trivialisation for which the transition morphisms $\tau_{ij}$ lie
    in the image of $\G(U_i \cap U_j) \to \saut_X(\F)(U_i \cap U_j)$.
  \item A $\G$-bundle on $\X$ is \emph{principal} if $\F$ is
    isomorphic as a left $\G$-sheaf to $\G$ (which is a left
    $\G$-sheaf via left multiplication).
  \end{itemize}
\end{definition}

\begin{remark}
  \label{final-triv}
  Note that if $\X$ has a final object $U$, then a covering $\{U_i \to
  U\}$ of $U$ induces coverings $\{V_i \to V\}$ with $V_i \ce U_i
  \times_U V$ for each $V \in \X$. Moreover, if we have two sheaves of
  sets $\E$ and $\E'$ on $\X$, then isomorphisms $\E|_{U_i} \iso
  \E'|_{U_i}$ restrict to isomorphisms $\E|_{V_i} \iso \E'|_{V_i}$ for
  any $V \in \X$. In particular, any trivialisation of a bundle $\E$
  on $\X$ with fibre $\F$ will determine a trivialisation of this
  form, induced by the given covering $\{U_i \to U\}$ and isomorphisms
  $\E|_{U_i} \iso \F|_{U_i}$.
\end{remark}

\begin{convention}
  When $\X$ has a final object, we will assume that all
  trivialisations of bundles on $\X$ to be of the form described in
  \pref{final-triv}.
\end{convention}

\begin{lemma}
  \label{auto-left}
  Suppose $\X$ has a final object $U$. Let $\G$ be a sheaf of groups
  on $\X$. Then any morphism of right $\G$-sheaves $\tau \c \G \to \G$
  is given by left multiplication by some $g \in \G(U)$:
  \[
  \tau_V \c\  \G(V) \ni h \mapsto g|_Vh \in \G(V), \quad V \in \X.
  \]
\end{lemma}

\begin{proof}
  Let $1_V \in \G(V)$ denote the unit for $V \in \X$. Let $g \ce
  \tau_U(1_U) \in \G(U)$. For any $V \in \X$ and $h \in
  \G(V)$, since $1_U|_V = 1_V$ and $\tau$ is a morphism of right
  $\G$-sheaves, we have
  \[
  \tau_V(h) = \tau_V(1_V) \cdot h = \tau_U(1_U)|_V \cdot h =
  g|_Vh. \qedhere
  \]
\end{proof}

\begin{proposition}
  \label{principal-equals-torsor}
  Suppose $\X$ has a final object $U$. Let $\G$ be a sheaf of groups
  on $\X$. A sheaf of sets $\E$ on $\X$ is a principal $\G$-bundle if
  and only if it is a right $\G$-torsor.
\end{proposition}

\begin{proof}
  ($\Rightarrow$) Let $\E$ be a principal $\G$-bundle. Then we are
  given a covering $\{U_i \to U\}$ of $U$ with isomorphisms $\E|_{U_i}
  \iso \G|_{U_i}$ such that the transition morphisms $\tau_{ij}$ are
  given by left multiplication by some $g_{ij} \in \G(U_i \cap
  U_j)$. Since left and right multiplication commute, the right
  actions of $\G|_{U_i}$ on $\E|_{U_i}$ via right-multiplication will
  glue together to give a right action of $\G(U)$ on
  $\E(U)$.\footnote{This is precisely analogous to
    \pref{principal-right-action}.} Thus $\E$ is a right $\G$-sheaf,
  and since $\E$ is by construction locally trivial it must be a
  $\G$-torsor by \pref{torsor-equiv}.

  ($\Leftarrow$) Suppose $\E$ is a right $\G$-torsor. By
  \pref{torsor-equiv} it is locally trivial: there is an open cover
  $\{U_i\}$ of $X$ and isomorphisms of right $\G$-sheaves $\E|_{U_i}
  \iso \G|_{U_i}$. So $\E$ is a bundle sheaf with fibre $\G$. Then
  that $\E$ has structure group $\G$ is immediate from
  \pref{auto-left}.
\end{proof}

Now, I've said that we've \emph{generalised} the notion of fibre
bundle with this notion of bundles as sheaves. But we've been
proceeding on analogies alone. So though I've hinted at it in
\pref{bundle-example}, I haven't actually proved in what sense this is
a generalisation. But I'll save that for the next post.es!

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\bibliographystyle{amsalpha}
\bibliography{refs}

\end{document}
