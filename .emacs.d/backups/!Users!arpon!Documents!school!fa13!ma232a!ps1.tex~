\input{preamble}

\title{Math 233A, Problem Set 1}
\author{Arpon Raksit}
\date{16 Sep 2013}

\begin{document}
\maketitle
\thispagestyle{fancy}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\prob{1}

\subprob{a}

By induction is suffices to take $r=2$. Let $I := I_1 \cap I_2$. Since
\[
I \subseteq I_j \implies V(I_j) \subseteq V(I) \quad\text{for}\ j \in
\{1,2\},
\]
we certainly have $V(I) \supseteq V(I_1) \cup V(I_2)$. Conversely,
suppose $p \in V(I) - V(I_1)$. Then there exists $f \in I_1$ such that
$f(p) \ne 0$. But for each $g \in I_2$ we have $(fg)(p) = 0$ since $fg
\in I$, implying $g(p) = 0$. So $p \in V(I_2)$. Thus we also have
$V(I) \subseteq V(I_1) \cup V(I_2)$.

\subprob{b}

We have $p \in V(\bigcap_{\lambda \in \Lambda} I_\lambda)$ if and only
if $f(p) = 0$ for each $f \in I_\lambda$ for all $\lambda \in
\Lambda$. This is of course equivalent to the condition that $f(p) =
0$ for all $f \in \sum_{\lambda \in \Lambda} I_\lambda$, i.e., that $p
\in V(\sum_{\lambda \in \Lambda} I_\lambda)$.

\subprob{c}

Let $p \in V(J)$. For any $f \in \sqrt{J}$, we have $f^n \in J$ for
some $n \in \N$, whence $f^n(p) = 0 \implies f(p) = 0$ (since $k$ is a
domain). Then since $I \subseteq \sqrt{I} \subseteq \sqrt{J}$ by
hypothesis, we have $f(p) = 0$ for all $f \in I$. I.e., $p \in
V(I)$. Therefore $V(J) \subseteq V(I)$.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\prob{2}

Recall that $V(I)$ is irreducible if (and only if) $I$ is prime. In
particular $\A^n = V(0)$ is irreducible since $R$ is a domain. So if
$V(I)^c$ is an algebraic set, i.e. a closed set in $\A^n$, then $\A^n
= V(I) \cup V(I)^c$ is a decomposition into closed subsets. By
irreducibility, $V(I) \in \{\emptyset, \A^n\}$.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\prob{3}

\renewcommand{\F}{\mathcal{F}}
\newcommand{\G}{\mathcal{G}}

\subprob{a}

Assume $f \in \F(U)$ is such that $f_p = 0$ for $p \in U$; we want to
show $f = 0$. Then for $p \in U$ there exists a neighbourhood $V_p$ of
$p$ such that $f|_{V_p} = 0$. Now, $\{V_p\}_{p \in U}$ is an open
cover of $U$, and the first sheaf axiom gives us that the restriction
map $\F(U) \to \prod_{p \in U} \F(V_p)$ is injective, so indeed $f =
0$.

\subprob{b}

It suffices to show $\phi : \F \to \G$ is zero if and only if $\phi_p
: \F_p \to \G_p$ is zero for all $p \in X$. Let $U \subseteq X$
open. Using the map from part (a) and the definition of the induced
morphism on stalks, we have the commutative diagram
\[
\begin{tikzcd}
  \F(U) \dar{\phi_U} \rar & \prod_{p \in U} \F_p \dar{\prod \phi_p}
  \\ \G(U) \rar & \prod_{p \in U} \G_p.
\end{tikzcd}
\]
Since the top and bottom maps are injective by (a), we clearly have
$\phi_U = 0$ if and only if $\phi_p = 0$ for all $p \in U$.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\prob{4}

\subprob{a}

Let $U \subseteq X$ open, and $\{U_i\}_{i \in I}$ an open cover of
$U$. The restriction map $\ker(\phi)(U) \to \prod_{i \in I}
\ker(\phi)(U_i)$ is just a restriction of the restriction map $\F(U)
\to \prod_{i \in I} \F(U_i)$. The first sheaf axiom is equivalent to
this map being injective, which follows then from $\F$ being a
sheaf.

Next suppose we have $s_i \in \ker(\phi)(U_i)$ for $i \in I$ such that
$s_i|_{U_i \cap U_j} = s_j|_{U_i \cap U_j}$ for $i,j \in I$. Since
$\F$ is a sheaf there exists $s \in \F(U)$ such that $s|_{U_i} = s_i$
for $i \in I$. We want that $s \in \ker(\phi_U)$. For $i \in I$,
\[
s_i \in \ker(\phi)(U_i) \implies \phi(s)|_{U_i} = \phi(s|_{U_i}) =
\phi(s_i) = 0.
\]
Then since $\G$ is a sheaf and the map $\G(U) \to \prod_{i \in I}
\G(U_i)$ is injective, we indeed have $\phi_U/.(s) = 0$.

\subprob{b}

Let $U \subseteq X$ open and $s \in \G(U)$. For $p \in U$ choose $V_p
\subseteq U$ an open ball containing $p$. From the fact that closed
forms are exact on $V_p$, we have $s|_{V_p} \in \im(\phi_{V_p})$. Then
since $\{V_p\}_{p \in U}$ is an open cover of $U$, $\phi$ is
surjective by problem 5 (see below).

However, there exist closed forms on $X$ which are not exact,
e.g. $(y\,dx - x\,dy)/(x^2+y^2)$ (the proof that this is closed but
not exact was on a problem set of a previously taken course, but is
omitted here), implying that $\phi_X$ is not surjective. This implies
that the universal map $\im(\phi) \to \im(\phi)^+$ is not an
isomorphism, and hence that $\im(\phi)$ is not a sheaf.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\prob{5}

Let $\iota : \im(\phi) \to \G$ the inclusion and $\iota^+ :
\im(\phi)^+ \to \G$ the induced morphism of sheaves. Recall that, by
definition, $\phi$ is surjective if and only if $\iota^+$ is an
isomorphism.

\subprob{$\Rightarrow$}

Assume $\phi$ is surjective. Clearly we can take $\G = \im(\phi)^+$
without loss of generality. Let $U \subseteq X$ open and $s \in
\G(U)$. Recall that by construction $s$ is a function $U \to
\coprod_{p \in U} \im(\phi)_p$ such that for $p \in U$:
\begin{itemize}
\item $s(p) \in \im(\phi)_p$, and
\item there exists a neighbourhood $V_p \subseteq U$ of $p$ and $t(p)
  \in \im(\phi_{V_p})$ such that $s(q) = t(p)_q$ for $q \in V_p$.
\end{itemize}
There is an evident isomorphism $\im(\phi)^+_p \simeq \im(\phi)_p$ for
$p \in U$, in particular sending $s_p \mapsto s(p)$. Then by problem
3a we must have $s|_{V_p} = t(p)$ for $p \in U$. Since $\{V_p\}_{p \in
  U}$ is an open cover of $U$ we're done.

\subprob{$\Leftarrow$}

By the universal property of sheafification, to show that $\phi$ is
surjective it suffices to show that for any sheaf $\G'$ on $X$ and
morphism $\psi : \im(\phi) \to \G'$ of presheaves, $\psi$ factors
uniquely through $\iota$. So fix any such $\G'$ and $\psi$.

Let $U \subseteq X$ open and $s \in \G(U)$. By hypothesis there exists
an open cover $\{U_i\}_{i \in I}$ of $U$ such that $s|_{U_i} \in
\im(\phi_{U_i})$ for $i \in I$. Then for $i,j \in I$ we have
\[
\psi(s|_{U_i})|_{U_i \cap U_j} = \psi(s|_{U_i \cap U_j}) =
\psi(s|_{U_j})|_{U_i \cap U_j}.
\]
So since $\G'$ is a sheaf, we can choose $t_s \in \G'(U)$ such that
$t_s|_{U_i} = \psi(s|_{U_i})$ for $i \in I$. Finally we have a map
$\psi^+_U : \G(U) \to \G'(U)$ sending $s \mapsto t_s$. Moreover it is
evident from the construction that this defines a morphism of
presheaves $\psi^+ : \G \to \G'$ factoring through $\iota$, and that
this is the unique such map. So indeed $\phi$ is surjective.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\prob{6}

Consider any exact sequence
\[
\begin{tikzcd}
  0 \rar & \F' \rar{\phi} & \F \rar{\psi} & \F''
\end{tikzcd}
\]
of sheaves and $U \subseteq X$ open. Exactness at $\F'$ means that
$\phi$ is injective. This implies both that $\phi_U : \F'(U) \to
\F(U)$ is injective, and that the image presheaf of $\phi$ is
isomorphic to $\F'$, and hence a sheaf. Exactness at $\F$ means that
$\ker(\psi) = \im(\phi)$, and since we know now that $\im(\phi)(U) =
\im(\phi_U)$, this implies that $\ker(\psi_U) = \im(\phi_U)$. Thus we
have shown that
\[
\begin{tikzcd}
  0 \rar & \F'(U) \rar{\phi_U} & \F(U) \rar{\psi_U} & \F''(U)
\end{tikzcd}
\]
is exact.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\prob{7}

Consider any exact sequence
\[
\begin{tikzcd}
  0 \rar & \F' \rar{\phi} & \F \rar{\psi} & \F'' \rar & 0
\end{tikzcd}
\]
of sheaves and $U \subseteq X$ open. By problem 6 we know that
$\Gamma(U,-)$ is left-exact, so we need only show that $\psi_U : \F(U)
\to \F''(U)$ is a surjection, assuming $\F'$ is flasque. So let $s \in
\F''(U)$. Since $\psi$ is a surjection, by problem 5 we have an open
cover $\{U_i\}_{i \in I}$ of $U$ such that $s|_{U_i} \in
\im(\psi_{U_i})$ for $i \in I$. Consider the set $P$ of pairs $(J,
\{t_j\}_{j \in J})$ where:
\begin{itemize}
\item $J \subseteq I$,
\item $t_j \in \phi_{U_j}^{-1}(s|_{U_j}) \subseteq \F(U_j)$ for $j \in
  J$,
\item $t_j|_{U_j \cap U_k} = t_k|_{U_j \cap U_k}$ for $j,k \in J$.
\end{itemize}
There is a partial ordering on $P$ given by $(J, \{t_j\}_{j \in J})
\le (J', \{t'_j\}_{j \in J'})$ if and only if $J \subseteq J'$ and
$t'_j = t_j$ for $j \in J$. Any chain $\{(J_\alpha,
\{t_{\alpha,j}\}_{j \in J_\alpha}\}_{\alpha \in A}$ in $P$ has an
evident upper bound given by unioning, $(\bigcup_{\alpha \in A}
J_\alpha, \bigcup_{\alpha \in A} \{t_{\alpha,j}\}_{j \in J_\alpha})$.

By Zorn's lemma we can pick a maximal element $(J, \{t_j\}_{j \in J})$
of $P$. We claim $J = I$. Assume the contrary, and choose $i \in I -
J$. Let $U' := \bigcup_{j \in J} U_j$. Since $\F$ is a sheaf and by
the conditions on $\{t_j\}_{j \in J}$, there exists $t' \in \F(U')$
such that $t'|_{U_j} = t_j$ for $j \in J$. Now we know we can choose
some $t_i \in \phi^{-1}_{U_i}(s|_{U_i})$. Consider $\delta :=
t_i|_{U_i \cap U'} - t'|_{U_i \cap U'}$. For any $j \in J$ we have
\[
\psi(\delta)|_{U_i \cap U_j} = \psi(t_i|_{U_i \cap U_j}) -
\psi(t'|_{U_i \cap U_j}) = (s|_{U_i})|_{U_i \cap U_j} -
(s|_{U_j})|_{U_i \cap U_j} = 0.
\]
Since $\{U_j\}_{j \in J}$ covers $U'$ by definition, $\{U_i \cap
U_j\}_{j \in J}$ covers $U_i \cap U'$, and since $\F''$ is a sheaf the
above then implies $\delta \in \ker(\psi_{U_i \cap U'})$. Since
$\ker(\psi) = \im(\phi) \simeq \F'$ is flasque, we can choose $t'' \in
\ker(\psi_{U_i})$ such that $t''|_{U_i \cap U'} = \delta$. Then we
have
\[
\psi(t_i+t'') = \psi(t_i)+\psi(t'') = s|_{U_i},
\]
and for $j \in J$,
\[
(t_i+t'')|_{U_i \cap U_j} = t_i|_{U_i \cap U_j} + t''|_{U_i \cap U_j}
= t_i|_{U_i \cap U_j} + \delta|_{U_j} = t_j|_{U_i \cap U_j}.
\]
Thus $(J \cup \{i\}, \{t_j\}_{j \in J} \cup \{t_i+t''\}) \in P$,
contradicting maximality of $(J, \{t_j\}_{j \in J})$.

\end{document}
